---
const response = await fetch("https://api-eu-west-2.hygraph.com/v2/cl69huq4hdrg601t386sw5d49/master",
  {
    method:'POST',
    headers: {'Content-Type':'application/json'},
    body: JSON.stringify({
      query: `
        query MyQuery {
            home(where: {
                id: "cl69i10z106vi0el983wtfjo0" }) {
                primaryHeading
                subHeading
                secondaryHeading
                secondaryContent
            }
        }
        `,
    }),
  })

const json = await response.json();
const homecontent = json.data
---

<main>
    <div class="hero is-medium is-primary has-background">
        <img alt="Small tree on calm water" class="hero-background is-transparent" src="../public/images/zen-taichi-tree.jpg">
        <div class="hero-body">
            <div class="container">
                <div class="columns">
                    <div class="column is-8-desktop is-offset-2-desktop">
                        <h1 class="title is-2 is-spaced">
                            {homecontent.home.primaryHeading}
                        </h1>
                        <h2 class="subtitle is-4">
                            {homecontent.home.subHeading}
                        </h2>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="section">
        <div class="container content">
                <div class="">
                    <h2>{homecontent.home.secondaryHeading}</h2>
                    <p>{homecontent.home.secondaryContent}</p>
                </div>
            </div>
    </div>

</main>

<style>

    .hero.has-background {
        position: relative;
        overflow: hidden;
    }

    .hero-background {
        position: absolute;
        object-fit: cover;
        object-position: center center;
        width: 100%;
        height: 100%;
    }

    .hero-background.is-transparent {
        opacity: 0.5;
    }

</style>